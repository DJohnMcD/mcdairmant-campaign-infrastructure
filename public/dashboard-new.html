<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>NY-24 Campaign Hub</title>
    <meta name="description" content="Congressional Campaign Management Dashboard for NY-24">
    <meta name="theme-color" content="#1e40af">
    
    <!-- PWA Configuration -->
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="NY-24 Campaign">
    
    <style>
        :root {
            /* NY-24 Campaign Colors */
            --primary-blue: #1e40af;
            --secondary-blue: #3b82f6;
            --accent-red: #dc2626;
            --success-green: #059669;
            --warning-amber: #d97706;
            
            /* Modern Grays */
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-600: #4b5563;
            --gray-700: #374151;
            --gray-800: #1f2937;
            --gray-900: #111827;
            
            /* Gradients */
            --gradient-primary: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            --gradient-success: linear-gradient(135deg, var(--success-green), #10b981);
            --gradient-warning: linear-gradient(135deg, var(--warning-amber), #f59e0b);
            
            /* Shadows */
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
            background: var(--gray-50);
            color: var(--gray-900);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* Mobile-First Header */
        .campaign-header {
            background: var(--gradient-primary);
            color: white;
            padding: 1rem;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow-lg);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .campaign-logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 700;
            font-size: 1.25rem;
        }
        
        .campaign-logo .flag {
            font-size: 1.5rem;
        }
        
        .header-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .notification-bell {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .notification-bell:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }
        
        .logout-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .logout-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-1px);
        }
        
        /* Quick Action Bar */
        .quick-action-bar {
            background: white;
            border-bottom: 1px solid var(--gray-200);
            padding: 1rem;
            position: sticky;
            top: 72px;
            z-index: 90;
        }
        
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 0.75rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .quick-action {
            background: var(--gray-50);
            border: 1px solid var(--gray-200);
            border-radius: 0.75rem;
            padding: 0.75rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
            color: var(--gray-700);
        }
        
        .quick-action:hover {
            background: white;
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
            border-color: var(--primary-blue);
        }
        
        .quick-action.primary {
            background: var(--gradient-primary);
            color: white;
            border-color: var(--primary-blue);
        }
        
        .quick-action.primary:hover {
            transform: translateY(-2px) scale(1.02);
            box-shadow: var(--shadow-lg);
        }
        
        .quick-action .icon {
            font-size: 1.5rem;
            margin-bottom: 0.25rem;
            display: block;
        }
        
        .quick-action .label {
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        /* Main Dashboard Layout */
        .dashboard-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
            padding-bottom: 6rem; /* Space for bottom nav */
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
        }
        
        @media (min-width: 768px) {
            .dashboard-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (min-width: 1024px) {
            .dashboard-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        /* Modern Card Component */
        .campaign-card {
            background: white;
            border-radius: 1rem;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--gray-200);
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .campaign-card:hover {
            box-shadow: var(--shadow-lg);
            transform: translateY(-2px);
            border-color: var(--primary-blue);
        }
        
        .card-header {
            padding: 1.5rem 1.5rem 1rem;
            border-bottom: 1px solid var(--gray-100);
        }
        
        .card-title {
            font-size: 1.125rem;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .card-subtitle {
            color: var(--gray-600);
            font-size: 0.875rem;
        }
        
        .card-content {
            padding: 1.5rem;
        }
        
        .card-actions {
            padding: 1rem 1.5rem;
            background: var(--gray-50);
            border-top: 1px solid var(--gray-100);
            display: flex;
            gap: 0.5rem;
        }
        
        /* Voter Information Form Card */
        .voter-form-card {
            grid-column: 1 / -1;
        }
        
        .form-group {
            margin-bottom: 1rem;
        }
        
        .form-label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--gray-700);
        }
        
        .form-input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--gray-300);
            border-radius: 0.5rem;
            font-size: 1rem;
            transition: all 0.2s ease;
            background: white;
        }
        
        .form-input:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(30, 64, 175, 0.1);
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
        }
        
        @media (min-width: 640px) {
            .form-row {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (min-width: 768px) {
            .form-row {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            text-decoration: none;
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.875rem;
        }
        
        .btn-primary {
            background: var(--gradient-primary);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: var(--shadow-lg);
        }
        
        .btn-secondary {
            background: white;
            color: var(--gray-700);
            border: 1px solid var(--gray-300);
        }
        
        .btn-secondary:hover {
            background: var(--gray-50);
            border-color: var(--primary-blue);
            color: var(--primary-blue);
        }
        
        .btn-success {
            background: var(--gradient-success);
            color: white;
        }
        
        .btn-full {
            width: 100%;
        }
        
        /* Statistics Display */
        .stat-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }
        
        @media (min-width: 640px) {
            .stat-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        
        .stat-item {
            text-align: center;
            padding: 1rem;
            background: var(--gray-50);
            border-radius: 0.75rem;
            border: 1px solid var(--gray-200);
        }
        
        .stat-value {
            font-size: 1.875rem;
            font-weight: 800;
            color: var(--primary-blue);
            display: block;
        }
        
        .stat-label {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--gray-600);
            font-weight: 600;
        }
        
        /* Progress Bars */
        .progress-bar {
            background: var(--gray-200);
            border-radius: 1rem;
            height: 0.5rem;
            overflow: hidden;
            margin: 0.5rem 0;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--gradient-primary);
            border-radius: 1rem;
            transition: width 0.3s ease;
        }
        
        /* Mobile Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-top: 1px solid var(--gray-200);
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            z-index: 100;
            box-shadow: var(--shadow-xl);
        }
        
        .nav-item {
            padding: 0.75rem 0.5rem;
            text-align: center;
            text-decoration: none;
            color: var(--gray-600);
            transition: all 0.2s ease;
            border: none;
            background: none;
            cursor: pointer;
        }
        
        .nav-item.active {
            color: var(--primary-blue);
            background: rgba(30, 64, 175, 0.05);
        }
        
        .nav-item .icon {
            font-size: 1.25rem;
            display: block;
            margin-bottom: 0.25rem;
        }
        
        .nav-item .label {
            font-size: 0.625rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        /* Alert/Toast Messages */
        .toast {
            position: fixed;
            top: 100px;
            right: 1rem;
            background: white;
            border-radius: 0.75rem;
            box-shadow: var(--shadow-xl);
            border: 1px solid var(--gray-200);
            padding: 1rem;
            z-index: 200;
            max-width: 300px;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }
        
        .toast.show {
            transform: translateX(0);
        }
        
        .toast.success {
            border-left: 4px solid var(--success-green);
        }
        
        .toast.error {
            border-left: 4px solid var(--accent-red);
        }
        
        /* Loading States */
        .loading {
            display: inline-block;
            width: 1rem;
            height: 1rem;
            border: 2px solid var(--gray-300);
            border-radius: 50%;
            border-top-color: var(--primary-blue);
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Hide desktop elements on mobile */
        @media (max-width: 767px) {
            .desktop-only {
                display: none !important;
            }
        }
        
        /* Show mobile elements only on mobile */
        .mobile-only {
            display: block;
        }
        
        @media (min-width: 768px) {
            .mobile-only {
                display: none;
            }
        }
        
        /* Accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        /* Focus styles */
        *:focus {
            outline: 2px solid var(--primary-blue);
            outline-offset: 2px;
        }
        
        /* Touch targets */
        @media (pointer: coarse) {
            .btn, .quick-action, .nav-item {
                min-height: 44px;
                min-width: 44px;
            }
        }
    </style>
</head>
<body>
    <!-- Campaign Header -->
    <header class="campaign-header">
        <div class="header-content">
            <div class="campaign-logo">
                <span class="flag">üá∫üá∏</span>
                <span>NY-24 Campaign Hub</span>
            </div>
            <div class="header-actions">
                <button class="notification-bell" onclick="toggleNotifications()">
                    <span>üîî</span>
                </button>
                <a href="/logout" class="logout-btn">
                    <span>üëã</span>
                    <span class="desktop-only">Logout</span>
                </a>
            </div>
        </div>
    </header>

    <!-- Quick Action Bar -->
    <div class="quick-action-bar">
        <div class="quick-actions">
            <div class="quick-action primary" onclick="showVoterForm()">
                <span class="icon">üó≥Ô∏è</span>
                <span class="label">Add Voter</span>
            </div>
            <div class="quick-action" onclick="showDonorForm()">
                <span class="icon">üí∞</span>
                <span class="label">Log Donation</span>
            </div>
            <div class="quick-action" onclick="showVolunteerForm()">
                <span class="icon">üôã</span>
                <span class="label">Add Volunteer</span>
            </div>
            <div class="quick-action" onclick="showEventForm()">
                <span class="icon">üìÖ</span>
                <span class="label">New Event</span>
            </div>
            <div class="quick-action" onclick="showExpenseForm()">
                <span class="icon">üí≥</span>
                <span class="label">Log Expense</span>
            </div>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div class="dashboard-container">
        <div class="dashboard-grid">
            
            <!-- Campaign Statistics -->
            <div class="campaign-card">
                <div class="card-header">
                    <h2 class="card-title">
                        <span>üìä</span>
                        Campaign Stats
                    </h2>
                    <p class="card-subtitle">Real-time campaign metrics</p>
                </div>
                <div class="card-content">
                    <div class="stat-grid">
                        <div class="stat-item">
                            <span class="stat-value" id="voterCount">2,847</span>
                            <span class="stat-label">Voters</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="donorCount">432</span>
                            <span class="stat-label">Donors</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="volunteerCount">89</span>
                            <span class="stat-label">Volunteers</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="eventCount">12</span>
                            <span class="stat-label">Events</span>
                        </div>
                    </div>
                </div>
                <div class="card-actions">
                    <button class="btn btn-secondary" onclick="refreshStats()">
                        <span>üîÑ</span>
                        Refresh
                    </button>
                </div>
            </div>

            <!-- Fundraising Progress -->
            <div class="campaign-card">
                <div class="card-header">
                    <h2 class="card-title">
                        <span>üí∞</span>
                        Fundraising Goal
                    </h2>
                    <p class="card-subtitle">$45,200 of $100,000 raised</p>
                </div>
                <div class="card-content">
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 45.2%"></div>
                    </div>
                    <div class="stat-grid" style="margin-top: 1rem;">
                        <div class="stat-item">
                            <span class="stat-value">$45.2K</span>
                            <span class="stat-label">Raised</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">$54.8K</span>
                            <span class="stat-label">Remaining</span>
                        </div>
                    </div>
                </div>
                <div class="card-actions">
                    <button class="btn btn-primary btn-full" onclick="showFundraisingTools()">
                        Launch Fundraising Drive
                    </button>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="campaign-card">
                <div class="card-header">
                    <h2 class="card-title">
                        <span>‚ö°</span>
                        Recent Activity
                    </h2>
                    <p class="card-subtitle">Last 24 hours</p>
                </div>
                <div class="card-content">
                    <div id="activityFeed">
                        <div class="activity-item" style="display: flex; gap: 0.75rem; margin-bottom: 0.75rem; padding-bottom: 0.75rem; border-bottom: 1px solid var(--gray-100);">
                            <span style="color: var(--success-green);">‚úÖ</span>
                            <div>
                                <div style="font-weight: 600; font-size: 0.875rem;">New voter registered</div>
                                <div style="color: var(--gray-600); font-size: 0.75rem;">Sarah Johnson, Rome NY - 2 minutes ago</div>
                            </div>
                        </div>
                        <div class="activity-item" style="display: flex; gap: 0.75rem; margin-bottom: 0.75rem; padding-bottom: 0.75rem; border-bottom: 1px solid var(--gray-100);">
                            <span style="color: var(--primary-blue);">üí∞</span>
                            <div>
                                <div style="font-weight: 600; font-size: 0.875rem;">Donation received</div>
                                <div style="color: var(--gray-600); font-size: 0.75rem;">$50 from M. Thompson - 15 minutes ago</div>
                            </div>
                        </div>
                        <div class="activity-item" style="display: flex; gap: 0.75rem;">
                            <span style="color: var(--warning-amber);">üìÖ</span>
                            <div>
                                <div style="font-weight: 600; font-size: 0.875rem;">Event reminder</div>
                                <div style="color: var(--gray-600); font-size: 0.75rem;">Town Hall tomorrow at 7 PM</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-actions">
                    <button class="btn btn-secondary" onclick="viewAllActivity()">
                        View All Activity
                    </button>
                </div>
            </div>

            <!-- Voter Information Form -->
            <div class="campaign-card voter-form-card" id="voterFormCard" style="display: none;">
                <div class="card-header">
                    <h2 class="card-title">
                        <span>üó≥Ô∏è</span>
                        New Voter Registration
                    </h2>
                    <p class="card-subtitle">Add a new voter to the NY-24 database</p>
                </div>
                <div class="card-content">
                    <form id="voterForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label" for="voterFirstName">First Name *</label>
                                <input type="text" id="voterFirstName" class="form-input" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="voterLastName">Last Name *</label>
                                <input type="text" id="voterLastName" class="form-input" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="voterEmail">Email</label>
                                <input type="email" id="voterEmail" class="form-input">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label" for="voterPhone">Phone</label>
                                <input type="tel" id="voterPhone" class="form-input">
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="voterAge">Age Group</label>
                                <select id="voterAge" class="form-input">
                                    <option value="">Select age group</option>
                                    <option value="18-29">18-29</option>
                                    <option value="30-44">30-44</option>
                                    <option value="45-64">45-64</option>
                                    <option value="65+">65+</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="voterCounty">County *</label>
                                <select id="voterCounty" class="form-input" required>
                                    <option value="">Select county</option>
                                    <option value="Cayuga">Cayuga</option>
                                    <option value="Onondaga">Onondaga</option>
                                    <option value="Oswego">Oswego</option>
                                    <option value="Wayne">Wayne</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="voterAddress">Address</label>
                            <input type="text" id="voterAddress" class="form-input" placeholder="Street address, City, NY">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label" for="voterSupport">Support Level</label>
                                <select id="voterSupport" class="form-input">
                                    <option value="">Unknown</option>
                                    <option value="strong-support">Strong Support</option>
                                    <option value="lean-support">Lean Support</option>
                                    <option value="undecided">Undecided</option>
                                    <option value="lean-oppose">Lean Oppose</option>
                                    <option value="strong-oppose">Strong Oppose</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="voterIssues">Top Issues</label>
                                <select id="voterIssues" class="form-input" multiple>
                                    <option value="healthcare">Healthcare</option>
                                    <option value="economy">Economy</option>
                                    <option value="education">Education</option>
                                    <option value="environment">Environment</option>
                                    <option value="infrastructure">Infrastructure</option>
                                    <option value="agriculture">Agriculture</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="voterVolunteer">Volunteer Interest</label>
                                <select id="voterVolunteer" class="form-input">
                                    <option value="no">Not interested</option>
                                    <option value="maybe">Maybe</option>
                                    <option value="yes">Yes, interested</option>
                                    <option value="contacted">Already contacted</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="voterNotes">Notes</label>
                            <textarea id="voterNotes" class="form-input" rows="3" placeholder="Additional notes about this voter..."></textarea>
                        </div>
                    </form>
                </div>
                <div class="card-actions">
                    <button class="btn btn-secondary" onclick="hideVoterForm()">Cancel</button>
                    <button class="btn btn-primary" onclick="saveVoter()">
                        <span>üíæ</span>
                        Save Voter
                    </button>
                </div>
            </div>

        </div>
    </div>

    <!-- Mobile Bottom Navigation -->
    <nav class="bottom-nav">
        <button class="nav-item active" onclick="showDashboard()">
            <span class="icon">üè†</span>
            <span class="label">Home</span>
        </button>
        <button class="nav-item" onclick="showVoters()">
            <span class="icon">üë•</span>
            <span class="label">Voters</span>
        </button>
        <button class="nav-item" onclick="showEvents()">
            <span class="icon">üìÖ</span>
            <span class="label">Events</span>
        </button>
        <button class="nav-item" onclick="showFinance()">
            <span class="icon">üí∞</span>
            <span class="label">Finance</span>
        </button>
        <button class="nav-item" onclick="showMore()">
            <span class="icon">‚öôÔ∏è</span>
            <span class="label">More</span>
        </button>
    </nav>

    <!-- Toast Notifications -->
    <div id="toast" class="toast">
        <div id="toastMessage"></div>
    </div>

    <script>
        // Modern Campaign Dashboard JavaScript
        
        // State Management
        let currentView = 'dashboard';
        let stats = {
            voters: 2847,
            donors: 432,
            volunteers: 89,
            events: 12
        };
        
        // Initialize Dashboard
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üó≥Ô∏è NY-24 Campaign Dashboard Initialized');
            loadDashboard();
            
            // Register service worker for PWA
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('/sw.js').catch(console.error);
            }
        });
        
        // Navigation Functions
        function showDashboard() {
            setActiveNav(0);
            currentView = 'dashboard';
            // Show main dashboard cards
            document.querySelectorAll('.campaign-card').forEach(card => {
                if (card.id === 'voterFormCard') {
                    card.style.display = 'none';
                } else {
                    card.style.display = 'block';
                }
            });
        }
        
        function showVoters() {
            setActiveNav(1);
            currentView = 'voters';
            showToast('Voter database loading...', 'info');
            // Future: Load voter management interface
        }
        
        function showEvents() {
            setActiveNav(2);
            currentView = 'events';
            showToast('Event calendar loading...', 'info');
            // Future: Load event management interface
        }
        
        function showFinance() {
            setActiveNav(3);
            currentView = 'finance';
            showToast('Financial dashboard loading...', 'info');
            // Future: Load financial management interface
        }
        
        function showMore() {
            setActiveNav(4);
            currentView = 'more';
            showToast('Settings and tools loading...', 'info');
            // Future: Load settings and additional tools
        }
        
        function setActiveNav(index) {
            document.querySelectorAll('.nav-item').forEach((item, i) => {
                item.classList.toggle('active', i === index);
            });
        }
        
        // Quick Action Functions
        function showVoterForm() {
            document.getElementById('voterFormCard').style.display = 'block';
            document.getElementById('voterFormCard').scrollIntoView({ behavior: 'smooth' });
            
            // Hide other cards temporarily
            document.querySelectorAll('.campaign-card').forEach(card => {
                if (card.id !== 'voterFormCard') {
                    card.style.display = 'none';
                }
            });
        }
        
        function hideVoterForm() {
            document.getElementById('voterFormCard').style.display = 'none';
            showDashboard();
        }
        
        function showDonorForm() {
            showToast('Donor form coming soon!', 'info');
        }
        
        function showVolunteerForm() {
            showToast('Volunteer form coming soon!', 'info');
        }
        
        function showEventForm() {
            showToast('Event form coming soon!', 'info');
        }
        
        function showExpenseForm() {
            showToast('Expense form coming soon!', 'info');
        }
        
        // Voter Form Functions
        async function saveVoter() {
            const form = document.getElementById('voterForm');
            const formData = new FormData(form);
            
            const voterData = {
                firstName: document.getElementById('voterFirstName').value,
                lastName: document.getElementById('voterLastName').value,
                email: document.getElementById('voterEmail').value,
                phone: document.getElementById('voterPhone').value,
                age: document.getElementById('voterAge').value,
                county: document.getElementById('voterCounty').value,
                address: document.getElementById('voterAddress').value,
                support: document.getElementById('voterSupport').value,
                issues: Array.from(document.getElementById('voterIssues').selectedOptions).map(o => o.value),
                volunteer: document.getElementById('voterVolunteer').value,
                notes: document.getElementById('voterNotes').value
            };
            
            // Validation
            if (!voterData.firstName || !voterData.lastName || !voterData.county) {
                showToast('Please fill in all required fields', 'error');
                return;
            }
            
            try {
                // Simulate API call
                showToast('Saving voter information...', 'info');
                
                // TODO: Replace with actual API call
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                showToast(`Voter ${voterData.firstName} ${voterData.lastName} saved successfully!`, 'success');
                
                // Update stats
                stats.voters++;
                document.getElementById('voterCount').textContent = stats.voters.toLocaleString();
                
                // Reset form
                form.reset();
                hideVoterForm();
                
                // Add to activity feed
                addActivity('‚úÖ', 'New voter registered', `${voterData.firstName} ${voterData.lastName}, ${voterData.county} County - just now`);
                
            } catch (error) {
                console.error('Error saving voter:', error);
                showToast('Error saving voter. Please try again.', 'error');
            }
        }
        
        // Dashboard Functions
        function loadDashboard() {
            // Simulate loading real-time data
            setTimeout(() => {
                updateStats();
                updateActivity();
                showToast('Dashboard updated with latest data', 'success');
            }, 500);
        }
        
        function refreshStats() {
            showToast('Refreshing campaign statistics...', 'info');
            
            // Simulate API call
            setTimeout(() => {
                // Randomly update stats slightly
                stats.voters += Math.floor(Math.random() * 5);
                stats.donors += Math.floor(Math.random() * 3);
                stats.volunteers += Math.floor(Math.random() * 2);
                
                updateStats();
                showToast('Statistics updated!', 'success');
            }, 1000);
        }
        
        function updateStats() {
            document.getElementById('voterCount').textContent = stats.voters.toLocaleString();
            document.getElementById('donorCount').textContent = stats.donors.toLocaleString();
            document.getElementById('volunteerCount').textContent = stats.volunteers.toLocaleString();
            document.getElementById('eventCount').textContent = stats.events.toLocaleString();
        }
        
        function updateActivity() {
            // Activity updates would come from real-time API
            console.log('Activity feed updated');
        }
        
        function addActivity(icon, title, description) {
            const activityFeed = document.getElementById('activityFeed');
            const newActivity = document.createElement('div');
            newActivity.className = 'activity-item';
            newActivity.style.cssText = 'display: flex; gap: 0.75rem; margin-bottom: 0.75rem; padding-bottom: 0.75rem; border-bottom: 1px solid var(--gray-100);';
            
            newActivity.innerHTML = `
                <span style="color: var(--success-green);">${icon}</span>
                <div>
                    <div style="font-weight: 600; font-size: 0.875rem;">${title}</div>
                    <div style="color: var(--gray-600); font-size: 0.75rem;">${description}</div>
                </div>
            `;
            
            activityFeed.insertBefore(newActivity, activityFeed.firstChild);
            
            // Remove oldest activity if more than 5
            const activities = activityFeed.children;
            if (activities.length > 5) {
                activityFeed.removeChild(activities[activities.length - 1]);
            }
        }
        
        // Utility Functions
        function showToast(message, type = 'info') {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toastMessage');
            
            toastMessage.textContent = message;
            toast.className = `toast ${type}`;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
        
        function toggleNotifications() {
            showToast('Notifications panel coming soon!', 'info');
        }
        
        function showFundraisingTools() {
            showToast('Launching fundraising tools...', 'info');
            // Future: Open fundraising interface
        }
        
        function viewAllActivity() {
            showToast('Full activity log coming soon!', 'info');
            // Future: Show detailed activity view
        }
        
        // PWA Functions
        function installApp() {
            if (window.deferredPrompt) {
                window.deferredPrompt.prompt();
                window.deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        showToast('App installed successfully!', 'success');
                    }
                    window.deferredPrompt = null;
                });
            }
        }
        
        // PWA Install Prompt
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            window.deferredPrompt = e;
            
            // Show install button/prompt
            setTimeout(() => {
                showToast('üí° Install this app for the best campaign experience!', 'info');
            }, 5000);
        });
        
        // Keyboard Shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.metaKey || e.ctrlKey) {
                switch (e.key) {
                    case '1':
                        e.preventDefault();
                        showVoterForm();
                        break;
                    case '2':
                        e.preventDefault();
                        showDonorForm();
                        break;
                    case 'r':
                        e.preventDefault();
                        refreshStats();
                        break;
                }
            }
        });
        
        // Responsive Design Handler
        function handleResize() {
            // Adjust layout for different screen sizes
            const isMobile = window.innerWidth < 768;
            
            if (isMobile) {
                // Mobile-specific adjustments
                document.body.classList.add('mobile-view');
            } else {
                // Desktop-specific adjustments
                document.body.classList.remove('mobile-view');
            }
        }
        
        window.addEventListener('resize', handleResize);
        handleResize(); // Initial call
        
        // Auto-refresh data every 30 seconds
        setInterval(() => {
            if (currentView === 'dashboard') {
                loadDashboard();
            }
        }, 30000);
        
        console.log('üöÄ NY-24 Campaign Dashboard Ready for Action!');
    </script>
</body>
</html>